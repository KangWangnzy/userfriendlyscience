<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>importLimeSurveyData — importLimeSurveyData • userfriendlyscience</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="importLimeSurveyData — importLimeSurveyData" />

<meta property="og:description" content="This function can be used to import files exported by LimeSurvey, a powerful
Open Source online survey application that can be used for, for example,
psychological experiments and other research." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">userfriendlyscience</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>importLimeSurveyData</h1>
    
    </div>

    
    <p>This function can be used to import files exported by LimeSurvey, a powerful
Open Source online survey application that can be used for, for example,
psychological experiments and other research.</p>
    

    <pre class="usage"><span class='fu'>importLimeSurveyData</span>(<span class='kw'>datafile</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>dataPath</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>datafileRegEx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>scriptfile</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>limeSurveyRegEx.varNames</span> <span class='kw'>=</span>
    <span class='st'>"names\\(data\\)\\[\\d*\\] &lt;- "</span>,
  <span class='kw'>limeSurveyRegEx.toChar</span> <span class='kw'>=</span>
    <span class='st'>"data\\[, \\d*\\] &lt;- as.character\\(data\\[, \\d*\\]\\)"</span>,
  <span class='kw'>limeSurveyRegEx.varLabels</span> <span class='kw'>=</span>
    <span class='st'>"attributes\\(data\\)\\$variable.labels\\[\\d*\\] &lt;- \".*\""</span>,
  <span class='kw'>limeSurveyRegEx.toFactor</span> <span class='kw'>=</span>
    <span class='fu'>paste0</span>(<span class='st'>"data\\[, \\d*\\] &lt;- factor\\(data\\[, \\d*\\], "</span>,
           <span class='st'>"levels=c\\(.*\\),.*labels=c\\(.*\\)\\)"</span>),
  <span class='kw'>limeSurveyRegEx.varNameSanitizing</span> <span class='kw'>=</span>
    <span class='fu'>list</span>(<span class='fu'>list</span>(<span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"#"</span>, <span class='kw'>replacement</span> <span class='kw'>=</span> <span class='st'>"."</span>),
         <span class='fu'>list</span>(<span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"\\$"</span>, <span class='kw'>replacement</span> <span class='kw'>=</span> <span class='st'>"."</span>)),
  <span class='kw'>setVarNames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>setLabels</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>convertToCharacter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>convertToFactor</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>categoricalQuestions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>massConvertToNumeric</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>dataHasVarNames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>encoding</span> <span class='kw'>=</span> <span class='st'>"NULL"</span>,
  <span class='kw'>dataEncoding</span> <span class='kw'>=</span> <span class='st'>"unknown"</span>,
  <span class='kw'>scriptEncoding</span> <span class='kw'>=</span> <span class='st'>"ASCII"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>datafile</th>
      <td><p>The path and filename of the file containing the data (comma separated values).</p></td>
    </tr>
    <tr>
      <th>dataPath, datafileRegEx</th>
      <td><p>Path containing datafiles: this can be used to read multiple datafiles, if the data is split between those. This is useful when downloading the entire datafile isn't possible because of server restrictions, for example when the processing time for the script in LimeSurvey that generates the datafiles is limited. In that case, the data can be downloaded in portions, and specifying a path here enables reading all datafiles in one go. Use the regular expression to indicate which files in the path should be read.</p></td>
    </tr>
    <tr>
      <th>scriptfile</th>
      <td><p>The path and filename of the file containing the R script to import the data.</p></td>
    </tr>
    <tr>
      <th>limeSurveyRegEx.varNames</th>
      <td><p>The regular expression used to extract the variable names from the script file. The
  first regex expression (i.e. the first expression between parentheses) will be
  extracted as variable name.</p></td>
    </tr>
    <tr>
      <th>limeSurveyRegEx.toChar</th>
      <td><p>The regular expression to detect the lines in the import script where variables
  are converted to the character type.</p></td>
    </tr>
    <tr>
      <th>limeSurveyRegEx.varLabels</th>
      <td><p>The regular expression used to detect the lines in the import script where
  variable labels are set.</p></td>
    </tr>
    <tr>
      <th>limeSurveyRegEx.toFactor</th>
      <td><p>The regular expression used to detect the lines in the import script where
  vectors are converted to factors.</p></td>
    </tr>
    <tr>
      <th>limeSurveyRegEx.varNameSanitizing</th>
      <td><p>A list of regular expression patterns and their replacements to sanitize the
  variable names (e.g. replace hashes/pound signs ('#') by something that is not
  considered the comment symbol by R).</p></td>
    </tr>
    <tr>
      <th>setVarNames, setLabels, convertToCharacter, convertToFactor</th>
      <td><p>Whether to set variable names or labels, or convert to character or factor,
  using the code isolated using the specified regular expression.</p></td>
    </tr>
    <tr>
      <th>categoricalQuestions</th>
      <td><p>Which variables (specified using LimeSurvey variable names)
  are considered categorical questions; for these, the script to convert
  the variables to factors, as extracted from the LimeSurvey import file, is
  applied.</p></td>
    </tr>
    <tr>
      <th>massConvertToNumeric</th>
      <td><p>Whether to convert all variables to numeric using
  <code><a href='userfriendlyscienceBasics.html'>massConvertToNumeric</a></code>.</p></td>
    </tr>
    <tr>
      <th>dataHasVarNames</th>
      <td><p>Whether the variable names are included as header (first line) in the comma
  separated values file (data file).</p></td>
    </tr>
    <tr>
      <th>encoding, dataEncoding, scriptEncoding</th>
      <td><p>The encoding of the files; <code>encoding</code> overrides <code>dataEncoding</code>
  and <code>scriptEncoding</code>, and so can be used to specify the same encoding
  for both.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function was intended to make importing data from LimeSurvey a bit easier.
The default settings used by LimeSurvey are not always convenient, and this
function provides a bit more control.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The dataframe.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='basicSPSStranslationFunctions.html'>getData</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'>### Of course, you need valid LimeSurvey files. This is an example of</span>
<span class='co'>### what you'd do if you have them, assuming you specified that path</span>
<span class='co'>### containing the data in 'dataPath', the name of the datafile in</span>
<span class='co'>### 'dataFileName', the name of the script file in 'dataLoadScriptName',</span>
<span class='co'>### and that you only want variables 'informedConsent', 'gender', 'hasJob',</span>
<span class='co'>### 'currentEducation', 'prevEducation', and 'country' to be converted to</span>
<span class='co'>### factors.</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>importLimeSurveyData</span>(<span class='kw'>datafile</span> <span class='kw'>=</span> <span class='fu'>file.path</span>(<span class='no'>dataPath</span>, <span class='no'>dataFileName</span>),
                            <span class='kw'>scriptfile</span> <span class='kw'>=</span> <span class='fu'>file.path</span>(<span class='no'>dataPath</span>, <span class='no'>dataLoadScriptName</span>),
                            <span class='kw'>categoricalQuestions</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>'informedConsent'</span>,
                                                     <span class='st'>'gender'</span>,
                                                     <span class='st'>'hasJob'</span>,
                                                     <span class='st'>'currentEducation'</span>,
                                                     <span class='st'>'prevEducation'</span>,
                                                     <span class='st'>'country'</span>));
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Gjalt-Jorn Peters

Maintainer: Gjalt-Jorn Peters &lt;gjalt-jorn@userfriendlyscience.com&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gjalt-Jorn Peters.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

